(self.webpackChunknutrition_vision=self.webpackChunknutrition_vision||[]).push([[161],{1497:v=>{v.exports=function y(){return!!(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},7941:v=>{var y=function(c){"use strict";var g,f=Object.prototype,m=f.hasOwnProperty,C=Object.defineProperty||function(l,a,d){l[a]=d.value},o="function"==typeof Symbol?Symbol:{},h=o.iterator||"@@iterator",O=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function x(l,a,d){return Object.defineProperty(l,a,{value:d,enumerable:!0,configurable:!0,writable:!0}),l[a]}try{x({},"")}catch{x=function(a,d,S){return a[d]=S}}function U(l,a,d,S){var M=Object.create((a&&a.prototype instanceof le?a:le).prototype),z=new q(S||[]);return C(M,"_invoke",{value:T(l,d,z)}),M}function re(l,a,d){try{return{type:"normal",arg:l.call(a,d)}}catch(S){return{type:"throw",arg:S}}}c.wrap=U;var Q="suspendedStart",oe="executing",ne="completed",j={};function le(){}function _(){}function P(){}var W={};x(W,h,function(){return this});var B=Object.getPrototypeOf,F=B&&B(B(ie([])));F&&F!==f&&m.call(F,h)&&(W=F);var $=P.prototype=le.prototype=Object.create(W);function X(l){["next","throw","return"].forEach(function(a){x(l,a,function(d){return this._invoke(a,d)})})}function A(l,a){function d(M,z,D,Z){var H=re(l[M],l,z);if("throw"!==H.type){var pe=H.arg,R=pe.value;return R&&"object"==typeof R&&m.call(R,"__await")?a.resolve(R.__await).then(function(E){d("next",E,D,Z)},function(E){d("throw",E,D,Z)}):a.resolve(R).then(function(E){pe.value=E,D(pe)},function(E){return d("throw",E,D,Z)})}Z(H.arg)}var S;C(this,"_invoke",{value:function w(M,z){function D(){return new a(function(Z,H){d(M,z,Z,H)})}return S=S?S.then(D,D):D()}})}function T(l,a,d){var S=Q;return function(M,z){if(S===oe)throw new Error("Generator is already running");if(S===ne){if("throw"===M)throw z;return de()}for(d.method=M,d.arg=z;;){var D=d.delegate;if(D){var Z=ue(D,d);if(Z){if(Z===j)continue;return Z}}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if(S===Q)throw S=ne,d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);S=oe;var H=re(l,a,d);if("normal"===H.type){if(S=d.done?ne:"suspendedYield",H.arg===j)continue;return{value:H.arg,done:d.done}}"throw"===H.type&&(S=ne,d.method="throw",d.arg=H.arg)}}}function ue(l,a){var d=a.method,S=l.iterator[d];if(S===g)return a.delegate=null,"throw"===d&&l.iterator.return&&(a.method="return",a.arg=g,ue(l,a),"throw"===a.method)||"return"!==d&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+d+"' method")),j;var w=re(S,l.iterator,a.arg);if("throw"===w.type)return a.method="throw",a.arg=w.arg,a.delegate=null,j;var M=w.arg;return M?M.done?(a[l.resultName]=M.value,a.next=l.nextLoc,"return"!==a.method&&(a.method="next",a.arg=g),a.delegate=null,j):M:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,j)}function fe(l){var a={tryLoc:l[0]};1 in l&&(a.catchLoc=l[1]),2 in l&&(a.finallyLoc=l[2],a.afterLoc=l[3]),this.tryEntries.push(a)}function G(l){var a=l.completion||{};a.type="normal",delete a.arg,l.completion=a}function q(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(fe,this),this.reset(!0)}function ie(l){if(l){var a=l[h];if(a)return a.call(l);if("function"==typeof l.next)return l;if(!isNaN(l.length)){var d=-1,S=function w(){for(;++d<l.length;)if(m.call(l,d))return w.value=l[d],w.done=!1,w;return w.value=g,w.done=!0,w};return S.next=S}}return{next:de}}function de(){return{value:g,done:!0}}return _.prototype=P,C($,"constructor",{value:P,configurable:!0}),C(P,"constructor",{value:_,configurable:!0}),_.displayName=x(P,p,"GeneratorFunction"),c.isGeneratorFunction=function(l){var a="function"==typeof l&&l.constructor;return!!a&&(a===_||"GeneratorFunction"===(a.displayName||a.name))},c.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,P):(l.__proto__=P,x(l,p,"GeneratorFunction")),l.prototype=Object.create($),l},c.awrap=function(l){return{__await:l}},X(A.prototype),x(A.prototype,O,function(){return this}),c.AsyncIterator=A,c.async=function(l,a,d,S,w){void 0===w&&(w=Promise);var M=new A(U(l,a,d,S),w);return c.isGeneratorFunction(a)?M:M.next().then(function(z){return z.done?z.value:M.next()})},X($),x($,p,"Generator"),x($,h,function(){return this}),x($,"toString",function(){return"[object Generator]"}),c.keys=function(l){var a=Object(l),d=[];for(var S in a)d.push(S);return d.reverse(),function w(){for(;d.length;){var M=d.pop();if(M in a)return w.value=M,w.done=!1,w}return w.done=!0,w}},c.values=ie,q.prototype={constructor:q,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(G),!l)for(var a in this)"t"===a.charAt(0)&&m.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=g)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var a=this;function d(Z,H){return M.type="throw",M.arg=l,a.next=Z,H&&(a.method="next",a.arg=g),!!H}for(var S=this.tryEntries.length-1;S>=0;--S){var w=this.tryEntries[S],M=w.completion;if("root"===w.tryLoc)return d("end");if(w.tryLoc<=this.prev){var z=m.call(w,"catchLoc"),D=m.call(w,"finallyLoc");if(z&&D){if(this.prev<w.catchLoc)return d(w.catchLoc,!0);if(this.prev<w.finallyLoc)return d(w.finallyLoc)}else if(z){if(this.prev<w.catchLoc)return d(w.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return d(w.finallyLoc)}}}},abrupt:function(l,a){for(var d=this.tryEntries.length-1;d>=0;--d){var S=this.tryEntries[d];if(S.tryLoc<=this.prev&&m.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var w=S;break}}w&&("break"===l||"continue"===l)&&w.tryLoc<=a&&a<=w.finallyLoc&&(w=null);var M=w?w.completion:{};return M.type=l,M.arg=a,w?(this.method="next",this.next=w.finallyLoc,j):this.complete(M)},complete:function(l,a){if("throw"===l.type)throw l.arg;return"break"===l.type||"continue"===l.type?this.next=l.arg:"return"===l.type?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):"normal"===l.type&&a&&(this.next=a),j},finish:function(l){for(var a=this.tryEntries.length-1;a>=0;--a){var d=this.tryEntries[a];if(d.finallyLoc===l)return this.complete(d.completion,d.afterLoc),G(d),j}},catch:function(l){for(var a=this.tryEntries.length-1;a>=0;--a){var d=this.tryEntries[a];if(d.tryLoc===l){var S=d.completion;if("throw"===S.type){var w=S.arg;G(d)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(l,a,d){return this.delegate={iterator:ie(l),resultName:a,nextLoc:d},"next"===this.method&&(this.arg=g),j}},c}(v.exports);try{regeneratorRuntime=y}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=y:Function("r","regeneratorRuntime = r")(y)}},9811:function(v,y,c){var f,m;f=function(){return function C(){var g=arguments.length;if(0===g)throw new Error("resolveUrl requires at least one argument; got none.");var o=document.createElement("base");if(o.href=arguments[0],1===g)return o.href;var h=document.getElementsByTagName("head")[0];h.insertBefore(o,h.firstChild);for(var p,O=document.createElement("a"),x=1;x<g;x++)O.href=arguments[x],o.href=p=O.href;return h.removeChild(o),p}},void 0!==(m=f.call(y,c,y,v))&&(v.exports=m)},2141:(v,y,c)=>{var f=c(7820).default;const m=c(5223);v.exports={recognize:function(){var o=f(function*(h,O,p){const x=yield m(p);return yield x.loadLanguage(O),yield x.initialize(O),x.recognize(h).finally(f(function*(){yield x.terminate()}))});return function(O,p,x){return o.apply(this,arguments)}}(),detect:function(){var o=f(function*(h,O){const p=yield m(O);return yield p.loadLanguage("osd"),yield p.initialize("osd"),p.detect(h).finally(f(function*(){yield p.terminate()}))});return function(O,p){return o.apply(this,arguments)}}()}},9927:v=>{v.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},9213:v=>{v.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},9298:(v,y,c)=>{const f=c(9927);v.exports={defaultOEM:f.DEFAULT}},5457:v=>{v.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},4479:v=>{v.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},2173:(v,y,c)=>{const f=c(1306);let m=0;v.exports=({id:C,action:g,payload:o={}})=>{let h=C;return typeof h>"u"&&(h=f("Job",m),m+=1),{id:h,action:g,payload:o}}},5310:function(v,y,c){var f=c(7820).default,m=this;const C=c(2173),{log:g}=c(66),o=c(1306);let h=0;v.exports=()=>{const O=o("Scheduler",h),p={},x={};let U=[];h+=1;const Q=()=>Object.keys(p).length,te=()=>{if(0!==U.length){const _=Object.keys(p);for(let P=0;P<_.length;P+=1)if(typeof x[_[P]]>"u"){U[0](p[_[P]]);break}}},oe=(_,P)=>new Promise((W,B)=>{const F=C({action:_,payload:P});U.push(function(){var $=f(function*(X){U.shift(),x[X.id]=F;try{W(yield X[_].apply(m,[...P,F.id]))}catch(A){B(A)}finally{delete x[X.id],te()}});return function(X){return $.apply(this,arguments)}}()),g(`[${O}]: Add ${F.id} to JobQueue`),g(`[${O}]: JobQueue length=${U.length}`),te()});return{addWorker:_=>(p[_.id]=_,g(`[${O}]: Add ${_.id}`),g(`[${O}]: Number of workers=${Q()}`),te(),_.id),addJob:function(){var _=f(function*(P,...W){if(0===Q())throw Error(`[${O}]: You need to have at least one worker before adding jobs`);return oe(P,W)});return function(W){return _.apply(this,arguments)}}(),terminate:function(){var _=f(function*(){Object.keys(p).forEach(function(){var P=f(function*(W){yield p[W].terminate()});return function(W){return P.apply(this,arguments)}}()),U=[]});return function(){return _.apply(this,arguments)}}(),getQueueLen:()=>U.length,getNumWorkers:Q}}},5223:(v,y,c)=>{var f=c(7820).default;const m=c(318),C=c(9136),g=c(2173),{log:o}=c(66),h=c(1306),{defaultOEM:O}=c(9298),{defaultOptions:p,spawnWorker:x,terminateWorker:U,onMessage:re,loadImage:Q,send:te}=c(638);let oe=0;v.exports=f(function*(ne={}){const j=h("Worker",oe),{logger:le,errorHandler:_,...P}=m({...p,...ne}),W={},B={};let F,$;const X=new Promise((R,E)=>{$=R,F=E});let T=x(P);T.onerror=R=>{F(R.message)},oe+=1;const ue=(R,E)=>{W[R]=E},fe=(R,E)=>{B[R]=E},G=({id:R,action:E,payload:N})=>new Promise((Y,J)=>{o(`[${j}]: Start ${R}, action=${E}`),ue(E,Y),fe(E,J),te(T,{workerId:j,jobId:R,action:E,payload:N})}),z=function(){var R=f(function*(E,N={},Y={blocks:!0,text:!0,hocr:!0,tsv:!0},J){return G(g({id:J,action:"recognize",payload:{image:yield Q(E),options:N,output:Y}}))});return function(N){return R.apply(this,arguments)}}(),Z=function(){var R=f(function*(E,N){return G(g({id:N,action:"detect",payload:{image:yield Q(E)}}))});return function(N,Y){return R.apply(this,arguments)}}(),H=function(){var R=f(function*(){return null!==T&&(U(T),T=null),Promise.resolve()});return function(){return R.apply(this,arguments)}}();re(T,({workerId:R,jobId:E,status:N,action:Y,data:J})=>{if("resolve"===N){o(`[${R}]: Complete ${E}`);let Ce=J;"recognize"===Y?Ce=C(J):"getPDF"===Y&&(Ce=Array.from({...J,length:Object.keys(J).length})),W[Y]({jobId:E,data:Ce})}else if("reject"===N){if(B[Y](J),"load"===Y&&F(J),!_)throw Error(J);_(J)}else"progress"===N&&le({...J,userJobId:E})});const pe={id:j,worker:T,setResolve:ue,setReject:fe,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(R,E,N)=>G(g({id:N,action:"FS",payload:{method:"writeFile",args:[R,E]}})),readText:(R,E)=>G(g({id:E,action:"FS",payload:{method:"readFile",args:[R,{encoding:"utf8"}]}})),removeFile:(R,E)=>G(g({id:E,action:"FS",payload:{method:"unlink",args:[R]}})),FS:(R,E,N)=>G(g({id:N,action:"FS",payload:{method:R,args:E}})),loadLanguage:(R="eng",E)=>G(g({id:E,action:"loadLanguage",payload:{langs:R,options:P}})),initialize:(R="eng",E=O,N,Y)=>G(g({id:Y,action:"initialize",payload:{langs:R,oem:E,config:N}})),setParameters:(R={},E)=>G(g({id:E,action:"setParameters",payload:{params:R}})),recognize:z,getPDF:(R="Tesseract OCR Result",E=!1,N)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),G(g({id:N,action:"getPDF",payload:{title:R,textonly:E}}))),detect:Z,terminate:H};return G(g({id:undefined,action:"load",payload:{options:P}})).then(()=>$(pe)).catch(()=>{}),X})},6682:(v,y,c)=>{c(7941);const f=c(5310),m=c(5223),C=c(2141),g=c(4479),o=c(9927),h=c(9213),{setLogging:O}=c(66);v.exports={languages:g,OEM:o,PSM:h,createScheduler:f,createWorker:m,setLogging:O,...C}},9136:v=>{v.exports=y=>{const c=[],f=[],m=[],C=[],g=[];return y.blocks&&y.blocks.forEach(o=>{o.paragraphs.forEach(h=>{h.lines.forEach(O=>{O.words.forEach(p=>{p.symbols.forEach(x=>{g.push({...x,page:y,block:o,paragraph:h,line:O,word:p})}),C.push({...p,page:y,block:o,paragraph:h,line:O})}),m.push({...O,page:y,block:o,paragraph:h})}),f.push({...h,page:y,block:o})}),c.push({...o,page:y})}),{...y,blocks:c,paragraphs:f,lines:m,words:C,symbols:g}}},967:(v,y,c)=>{const f=c(1497);v.exports=m=>{const C={};return typeof WorkerGlobalScope<"u"?C.type="webworker":f()?C.type="electron":"object"==typeof window?C.type="browser":"object"==typeof process&&(C.type="node"),typeof m>"u"?C:C[m]}},1306:v=>{v.exports=(y,c)=>`${y}-${c}-${Math.random().toString(16).slice(3,8)}`},66:function(v,y){let c=!1;y.logging=c,y.setLogging=f=>{c=f},y.log=(...f)=>c?console.log.apply(this,f):null},318:(v,y,c)=>{const m="browser"===c(967)("type")?c(9811):C=>C;v.exports=C=>{const g={...C};return["corePath","workerPath","langPath"].forEach(o=>{C[o]&&(g[o]=m(g[o]))}),g}},5734:(v,y,c)=>{const f=c(9811),{version:m}=c(4547),C=c(5457);v.exports={...C,workerPath:typeof process<"u"&&"development"===process.env.TESS_ENV?f(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${m}/dist/worker.min.js`,corePath:null}},638:(v,y,c)=>{const f=c(5734),m=c(9038),C=c(7273),g=c(93),o=c(8072),h=c(6922);v.exports={defaultOptions:f,spawnWorker:m,terminateWorker:C,onMessage:g,send:o,loadImage:h}},6922:(v,y,c)=>{var f=c(7820).default;const m=c(9811),C=o=>new Promise((h,O)=>{const p=new FileReader;p.onload=()=>{h(p.result)},p.onerror=({target:{error:{code:x}}})=>{O(Error(`File could not be read! Code=${x}`))},p.readAsArrayBuffer(o)}),g=function(){var o=f(function*(h){let O=h;return typeof h>"u"?"undefined":("string"==typeof h?O=/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(h)?atob(h.split(",")[1]).split("").map(p=>p.charCodeAt(0)):yield(yield fetch(m(h))).arrayBuffer():h instanceof HTMLElement?("IMG"===h.tagName&&(O=yield g(h.src)),"VIDEO"===h.tagName&&(O=yield g(h.poster)),"CANVAS"===h.tagName&&(yield new Promise(p=>{h.toBlob(function(){var x=f(function*(U){O=yield C(U),p()});return function(U){return x.apply(this,arguments)}}())}))):(h instanceof File||h instanceof Blob)&&(O=yield C(h)),new Uint8Array(O))});return function(O){return o.apply(this,arguments)}}();v.exports=g},93:v=>{v.exports=(y,c)=>{y.onmessage=({data:f})=>{c(f)}}},8072:(v,y,c)=>{var f=c(7820).default;v.exports=function(){var m=f(function*(C,g){C.postMessage(g)});return function(C,g){return m.apply(this,arguments)}}()},9038:v=>{v.exports=({workerPath:y,workerBlobURL:c})=>{let f;if(Blob&&URL&&c){const m=new Blob([`importScripts("${y}");`],{type:"application/javascript"});f=new Worker(URL.createObjectURL(m))}else f=new Worker(y);return f}},7273:v=>{v.exports=y=>{y.terminate()}},6161:(v,y,c)=>{"use strict";c.r(y),c.d(y,{NutritionModule:()=>ve});var f=c(8692),m=c(1997),C=c(827),g=c(8146),o=c(4537);class h{}function O(n,t,e,r,i,s,u){try{var b=n[s](u),I=b.value}catch(k){return void e(k)}b.done?t(I):Promise.resolve(I).then(r,i)}function p(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var s=n.apply(t,e);function u(I){O(s,r,i,u,b,"next",I)}function b(I){O(s,r,i,u,b,"throw",I)}u(void 0)})}}h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-nutrition"]],decls:2,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"p"),o._uU(1,"nutrition works!"),o.qZA())}});const U=function(n){const t=document.createElement("canvas");t.width=n.width,t.height=n.height;const e=t.getContext("2d");if(!e)throw new Error("Cannot get canvas 2d context.");e.putImageData(n,0,0);const r=new Image;return r.src=t.toDataURL(),r};var _=c(6682),P=c(4581);const B=class W{error(t,e){console.error(this.getMessage("error",t),e)}warn(t,e){console.warn(this.getMessage("warn",t),e)}log(t,e){console.log(this.getMessage("log",t),e)}info(t,e){console.info(this.getMessage("info",t),e)}debug(t,e){(0,o.X6Q)()&&console.debug(this.getMessage("debug",t),e)}getMessage(t,e){return`[${e}] ${t.toUpperCase()}:`}},F="Tesseract",$=function(){var n=p(function*(t,e){const r=new B,i=yield(0,_.createWorker)({logger:t||function(u){r.debug(F,"Worker log: "+JSON.stringify(u))},errorHandler:e||function(u){r.error(F,"Worker error: "+JSON.stringify(u))}});return yield i.loadLanguage("eng"),yield i.initialize("eng"),yield i.setParameters({tessedit_ocr_engine_mode:_.OEM.DEFAULT,tessedit_pageseg_mode:_.PSM.SINGLE_BLOCK,user_defined_dpi:"100"}),(0,P.R)(document,"beforeunload").subscribe({next:(u=p(function*(b){r.info(F,"BeforeUnload log: "+JSON.stringify(b)),i&&(yield i.terminate())}),function(I){return u.apply(this,arguments)}),error:u=>{r.error(F,"BeforeUnload error: "+JSON.stringify(u))}}),i;var u});return function(e,r){return n.apply(this,arguments)}}(),X=function(){var n=p(function*(t,e,r){if(!t||!e)throw new Error("Must provider worker and image.");const i=new B,s={rotateAuto:!0};r&&(i.info(F,"Init tesseract using rectangle  "+JSON.stringify(r)+"."),s.rectangle=r),i.info(F,"Started tesseract recognise for image.");const u=yield t.recognize(e,s,{osd:!0,text:!0,blocks:!0,imageColor:!0,imageGrey:!0,imageBinary:!0,debug:!1,pdf:!1,unlv:!1,tsv:!1,hocr:!1,box:!1});return i.info(F,"Finished tesseract recognise."),u});return function(e,r,i){return n.apply(this,arguments)}}(),A=new B,T="OpenCV Wrapper",G=function(n,t){if(A.debug(T,"Converting OpenCV Mat instance set pixels."),!n.isContinuous())throw new Error("The Mat is not continuous.");const e=n.data,r=n.rows,i=n.cols;for(let s=0;s<r;s++)for(let u=0;u<i;u++){const b=q(n,s,u);e[b]=t(s,u,"red",b,e,e[b]);const L=b+1;e[L]=t(s,u,"green",b,e,e[L]);const K=b+2;e[K]=t(s,u,"blue",b,e,e[K]);const Ee=b+3;e[Ee]=t(s,u,"alpha",b,e,e[Ee])}A.info(T,"Converted OpenCV Mat instance set pixels.")},q=function(n,t,e){const r=n.channels();return t*n.cols*r+e*r},ie=function(n){A.debug(T,"Converting image into OpenCV Mat format");const t=cv.imread(n);return A.info(T,"Converted image into OpenCV Mat format"),t},de=function(n){A.debug(T,"Converting OpenCV Mat format into image.");const t=n.size();let e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=cv.imshow(e,n);ee("cv.imshow",r);const i=e.getContext("2d");if(!i)throw new Error("Cannot get canvas 2d context.");const s=i.getImageData(0,0,e.width,e.height);return A.info(T,"Converted OpenCV Mat format into image."),s},l=function(n,t){A.debug(T,"Converting OpenCV Mat instance to cvt color code '"+t+"'.");const e=cv.cvtColor(n,n,t,0);ee("cv.cvtColor",e),A.info(T,"Converted OpenCV Mat instance to cvt color code '"+t+"'.")},ee=function(n,t){if(void 0!==t)throw new Error("Unexpected return value from "+n+": "+JSON.stringify(t))},Te=function(n){let t=n.width,e=n.height,r=document.createElement("canvas");r.width=t,r.height=e;let i=r.getContext("2d");if(!i)throw new Error("Cannot get canvas 2d context.");return i.putImageData(n,0,0),new Promise(s=>{r.toBlob(s)})},Le="imageResizeAlgorithm01",Me="imageThresholdGeneric01",_e="imageThresholdAdaptive01",Pe="imageThresholdAdaptive02",$e=function(n,t=25){const e=new B;if(e.debug(Pe,"Start imageThresholdAdaptive02."),t<0||t>100)throw new Error("Threshold must be greater than or equal to 0 and less than or equal to 100.");let r=null,i=null,s=null,u=null;try{r=ie(n),l(r,cv.COLOR_BGR2GRAY);const b=r.size(),I=b.height,k=b.width,L=Math.floor(I/16)+1,V=Math.floor(k/16)+1,K=Math.round(L/2)-1,ce=Math.round(V/2)-1;i=function(n,t,e,r,i,s,u){A.debug(T,"Converting OpenCV Mat instance using copy make boarder '"+s+"'.");const b=new cv.Mat(n.rows+t+e,n.cols+r+i,n.type()),I=cv.copyMakeBorder(n,b,t,e,r,i,s);return ee("cv.copyMakeBorder",I),A.info(T,"Converted OpenCV Mat instance using copy make boarder '"+s+"'."),b}(r,K,K,ce,ce,cv.BORDER_REFLECT),s=function(n,t,e,r){A.debug(T,"Converting OpenCV Mat instance using integral rows '"+t+"' cols '"+e+"'.");const i=cv.Mat.zeros(t,e,cv.CV_8UC4),s=cv.integral(n,i,-1);return ee("cv.integral",s),A.info(T,"Converted OpenCV Mat instance using integral rows '"+t+"' cols '"+e+"'."),i}(i,L,V);const Ee=s.size(),Ae=Ee.height,tt=Ee.width,Se=s.data;u=function(n,t,e){A.debug(T,"Getting OpenCV Mat instance.");const r=new cv.Mat(n,t,e);return A.info(T,"Got OpenCV Mat instance."),r}(I,k,r.type());const nt=Ae-L,Ne=tt-V;G(u,(ge,we,Fe,xe,Ge,Re)=>ge>nt||Ne>Ne?0:Se[q(s,ge+L,we+V)]-Se[q(s,ge,we+V)]+Se[q(s,ge,we)]-Se[q(s,ge+L,we)]),G(r,(ge,we,Fe,xe,Ge,Re)=>Re*L*V),G(r,(ge,we,Fe,xe,Ge,Re)=>Re<=u.data[xe]*(100-t)/100?255:0);const rt=de(r);return e.info(Pe,"Finished imageThresholdAdaptive02."),rt}finally{r&&r.delete(),i&&i.delete(),s&&s.delete(),u&&u.delete()}},se=class Ke{constructor(t,e,r,i){this.imageData=t,this.blob=e,this.image=r,this.stepCard=i}};class ae{constructor(){this.logger=new B}error(t,e){this.logger.error(t,e)}warn(t,e){this.logger.warn(t,e)}log(t,e){this.logger.log(t,e)}info(t,e){this.logger.info(t,e)}debug(t,e){this.logger.debug(t,e)}}ae.\u0275fac=function(t){return new(t||ae)},ae.\u0275prov=o.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"});var ke=c(5998);class he{constructor(t,e){this.logger=t,this.sanitizer=e,this.logPrefix="Processing",this.openCVIsInitDone=!1,this.tesseractWorker=void 0,this.tesseractInProgress=!1}openCVInitialiseResources(){if(!function(){let n=!1,t=0;for(;!n&&t<5;)cv?!0===cv.calledRun&&(A.debug(T,"Variable 'cv' is ready."),n=!0):(A.debug(T,"Cannot access 'cv' yet."),t+=1);if(n){const r=[];if(new Set(["ADAPTIVE_THRESH_GAUSSIAN_C","ADAPTIVE_THRESH_MEAN_C","adaptiveThreshold","BORDER_REFLECT","CHAIN_APPROX_SIMPLE","COLOR_BGR2GRAY","COLOR_RGBA2GRAY","contourArea","copyMakeBorder","CV_32SC4","cvtColor","dilate","equalizeHist","findContours","GaussianBlur","getBuildInformation","getStructuringElement","imread","imshow","integral","Mat","minAreaRect","MORPH_RECT","RETR_LIST","Size","THRESH_BINARY","THRESH_BINARY_INV","THRESH_OTSU","threshold"]).forEach(i=>{void 0===cv[i]&&r.indexOf(i)<0&&r.push(i)}),r.length>0)throw new Error("One or more expected opencv properties or methods are not available: "+JSON.stringify(r))}else A.error(T,"Could not initialise OpenCV.");return n}())throw new Error("OpenCV Initialisation failed.");this.logger.info(this.logPrefix,"Initialisation finished successfully."),(0,o.X6Q)()&&!this.openCVIsInitDone&&this.logger.debug(this.logPrefix,cv.getBuildInformation()),this.openCVIsInitDone=!0}openCvIsInitialised(){return this.openCVIsInitDone}openCVCheckInitialised(){if(!this.openCvIsInitialised())throw new Error("OpenCV is not initialised.")}tesseractInitialiseResources(){var t=this;return p(function*(){return t.tesseractWorker||(t.tesseractWorker=yield $()),!!t.tesseractWorker})()}tesseractIsInitialised(){return!!this.tesseractWorker}tesseractCheckInitialised(){if(!this.tesseractIsInitialised())throw new Error("Tesseract is not initialised.")}getTesseractWorker(){var t=this;return p(function*(){if(yield t.tesseractInitialiseResources(),t.tesseractWorker)return t.tesseractWorker;throw new Error("Tesseract worker is not available.")})()}tesseractRecognize(t,e){var r=this;return p(function*(){if(r.tesseractInProgress)return void r.logger.warn(r.logPrefix,"Tesseract is already processing, cannot process in parallel.");let i;r.tesseractInProgress=!0;try{const s=yield r.getTesseractWorker();i=yield X(s,t,e)}finally{r.tesseractInProgress=!1}return(0,o.X6Q)()&&r.logger.debug(r.logPrefix,i),i})()}imageResize01(t){var e=this;return p(function*(){let r;r=function(n,t,e){const r=new B;r.debug(Le,"Start imageResize01.");let i=t,s=e;if(n.height>n.width?i=Math.floor(e*(n.width/n.height)):s=Math.floor(t*(n.height/n.width)),!i||isNaN(i)||i<1)throw new Error("Invalid width "+JSON.stringify(i));if(!s||isNaN(s)||s<1)throw new Error("Invalid height "+JSON.stringify(s));let u=document.createElement("canvas"),b=u.getContext("2d");if(!b)throw new Error("Cannot get canvas 2d context.");u.width=n.width,u.height=n.height,b.drawImage(n,0,0,u.width,u.height);let I={width:Math.floor(n.width),height:Math.floor(n.height)},k={width:void 0,height:void 0};for(;.5*I.width>i;)k.width=Math.floor(.5*I.width),k.height=Math.floor(.5*I.height),b.drawImage(u,0,0,I.width,I.height,0,0,k.width,k.height),I.width=k.width,I.height=k.height;let L=document.createElement("canvas"),V=L.getContext("2d");if(!V)throw new Error("Cannot get canvas 2d context.");L.width=i,L.height=s,V.drawImage(u,0,0,I.width,I.height,0,0,i,s);const K=V.getImageData(0,0,L.width,L.height);return r.info(Le,"Finished imageResize01."),K}(t,600,600);const i=yield Te(r);if(i){const s=e.buildCardFromBlob("Resize image - option 1","imageResizeOption1",r.width,r.height,i);return new se(r,i,U(r),s)}return new se(r,void 0,U(r),void 0)})()}imageThresholdGeneric01(t){var e=this;return p(function*(){const r=function(n,t=127,e="luminance"){const r=new B;if(r.debug(Me,"Start imageThresholdGeneric01."),t<0||t>255)throw new Error("Threshold value must be between 0 and 255.");let i=[];for(let s=0,u=n.data.length;s<u;s+=4){const b=n.data[s],I=n.data[s+1],k=n.data[s+2],L=n.data[s+3];let V;switch(e){case"luminance":V=.21*b+.71*I+.07*k>>0;break;case"average":V=(b+I+k)/3;break;case"lightness":V=(Math.max(b,I,k)+Math.min(b,I,k))/2;break;default:throw new Error("The 'method' must be one of 'luminance', 'average', 'lightness'.")}const K=V<t?0:255;i.push(K),i.push(K),i.push(K),i.push(L)}return r.info(Me,"Finished imageThresholdGeneric01."),new Uint8ClampedArray(i)}(t,155),i=new ImageData(r,t.width,t.height),s=yield Te(i);if(s){const u=e.buildCardFromBlob("Threshold image - option 1","imageThresholdOption1",i.width,i.height,s);return new se(i,s,U(i),u)}return new se(i,void 0,U(i),void 0)})()}imageThresholdAdaptive01(t){var e=this;return p(function*(){const r=function(n,t,e,r,i,s,u){const b=new B;if(b.debug(_e,"Start imageThresholdAdaptive01."),t<0||t>255)throw new Error("Threshold value must be between 0 and 255.");let I,k;switch(r){case"gaussian":I=cv.ADAPTIVE_THRESH_GAUSSIAN_C;break;case"mean":I=cv.ADAPTIVE_THRESH_MEAN_C;break;default:throw new Error("Invalid threshold method "+r)}switch(i){case"standard":k=cv.THRESH_BINARY;break;case"inverse":k=cv.THRESH_BINARY_INV;break;default:throw new Error("Invalid threshold type "+i)}if(s<3||s%2==0)throw new Error("Threshold value must be 3 or greater and odd.");let L=null;try{switch(L=ie(n),l(L,cv.COLOR_RGBA2GRAY),e){case"none":break;case"gamma":!function(n,t){A.debug(T,"Converting OpenCV Mat instance gamma '1.2'.");const e=["red","green","blue"];G(n,(i,s,u,b,I,k)=>e.indexOf(u)>-1?255*Math.pow(k/255,1.2):k),A.info(T,"Converted OpenCV Mat instance gamma '1.2'.")}(L);break;case"hist":!function(n){A.debug(T,"Converting OpenCV Mat instance using equalize hist.");const t=cv.equalizeHist(n,n);ee("cv.equalizeHist",t),A.info(T,"Converted OpenCV Mat instance using equalize hist.")}(L);break;default:throw new Error("Invalid threshold prepare "+e)}!function(n,t,e,r,i,s){A.debug(T,"Converting OpenCV Mat instance using adaptive threshold '"+e+"'.");const u=cv.adaptiveThreshold(n,n,t,e,r,i,s);ee("cv.adaptiveThreshold",u),A.info(T,"Converted OpenCV Mat instance using adaptive threshold '"+e+"'.")}(L,t,I,k,s,u);const V=de(L);return b.info(_e,"Finished imageThresholdAdaptive01."),V}finally{L&&L.delete()}}(t,255,"gamma","gaussian","standard",255,19),i=yield Te(r);if(i){const s=e.buildCardFromBlob("Threshold adaptive image - option 1","imageThresholdAdaptive01",r.width,r.height,i);return new se(r,i,U(r),s)}return new se(r,void 0,U(r),void 0)})()}imageThresholdAdaptive02(t){var e=this;return p(function*(){const r=$e(t),i=yield Te(r);if(i){const s=e.buildCardFromBlob("Threshold adaptive image - option 2","imageThresholdAdaptive02",r.width,r.height,i);return new se(r,i,U(r),s)}return new se(r,void 0,U(r),void 0)})()}buildCardFromBlob(t,e,r,i,s){const u=function(n,t){const e=URL.createObjectURL(n);if(!e.startsWith("blob:"))throw new Error("Unrecognised object url '"+JSON.stringify(e)+"'.");return{srcUrl:t.bypassSecurityTrustUrl(e),objectUrl:e}}(s,this.sanitizer);return{title:t,imageId:e,imageAlt:"Preview of "+t,imageSrc:u.srcUrl,progressMode:"determinate",progressValue:0,extractedWords:void 0,imageWidth:r,imageHeight:i,imageLoadFunc:b=>{URL.revokeObjectURL(u.objectUrl),this.logger.debug(this.logPrefix,`Image load for ${e} successful (revoked object url).`)},imageErrorFunc:b=>{URL.revokeObjectURL(u.objectUrl),this.logger.error(this.logPrefix,`Image load for ${e} error (revoked object url).`)}}}buildCardFromDataUri(t,e,r,i,s){return{title:t,imageId:e,imageAlt:"Preview of "+t,imageSrc:s,progressMode:"determinate",progressValue:0,extractedWords:void 0,imageWidth:r,imageHeight:i,imageLoadFunc:u=>{this.logger.debug(this.logPrefix,`Image ${e} successful.`)},imageErrorFunc:u=>{this.logger.error(this.logPrefix,`Image ${e} error.`)}}}}he.\u0275fac=function(t){return new(t||he)(o.LFG(ae),o.LFG(ke.H7))},he.\u0275prov=o.Yz7({token:he,factory:he.\u0275fac});var Ue=c(6438),Ve=c(9638);function Qe(n,t){if(1&n&&(o.TgZ(0,"div",7),o._uU(1),o.qZA()),2&n){const e=t.$implicit,r=o.oxw(2);o.Akn(r.displayBox(e)),o.Q6J("title",e.text),o.xp6(1),o.hij(" ",e.text," ")}}function Xe(n,t){if(1&n&&(o.TgZ(0,"div",5),o.YNc(1,Qe,2,4,"div",6),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",null==e.stepCard?null:e.stepCard.extractedWords)}}class ye{constructor(t){this.logger=t,this.logPrefix="Step Card Component"}ngOnInit(){}imageOnLoad(t){var e=this;return p(function*(){e.stepCard?.imageLoadFunc(t)})()}imageOnError(t){var e=this;return p(function*(){e.stepCard?.imageErrorFunc(t)})()}displayBox(t){const e={position:"absolute",border:"1px solid red","overflow-wrap":"anywhere",left:"0px",top:"0px",width:"0px",height:"0px"};if(!this.stepCard)return e;const i=400/this.stepCard?.imageWidth,s=t.bbox.x0*i,u=t.bbox.y0*i,b=Math.abs(t.bbox.x1-t.bbox.x0)*i,I=Math.abs(t.bbox.y1-t.bbox.y0)*i;return e.left=Math.round(s).toString()+"px",e.top=Math.round(u).toString()+"px",e.width=Math.round(b).toString()+"px",e.height=Math.round(I).toString()+"px",e}}function qe(n,t){1&n&&o._UZ(0,"app-step-card",7),2&n&&o.Q6J("stepCard",t.$implicit)}ye.\u0275fac=function(t){return new(t||ye)(o.Y36(ae))},ye.\u0275cmp=o.Xpm({type:ye,selectors:[["app-step-card"]],inputs:{stepCard:"stepCard"},decls:7,vars:7,consts:[[1,"step-card"],[3,"textContent"],["mat-card-image","",3,"id","alt","src","load","error"],["style","position:absolute;top:48px;",4,"ngIf"],[3,"mode","value"],[2,"position","absolute","top","48px"],[3,"title","style",4,"ngFor","ngForOf"],[3,"title"]],template:function(t,e){1&t&&(o.TgZ(0,"mat-card",0)(1,"mat-card-header"),o._UZ(2,"mat-card-title",1),o.qZA(),o.TgZ(3,"img",2),o.NdJ("load",function(i){return e.imageOnLoad(i)})("error",function(i){return e.imageOnError(i)}),o.qZA(),o.YNc(4,Xe,2,1,"div",3),o.TgZ(5,"mat-card-footer"),o._UZ(6,"mat-progress-bar",4),o.qZA()()),2&t&&(o.xp6(2),o.Q6J("textContent",null==e.stepCard?null:e.stepCard.title),o.xp6(1),o.Q6J("id",null==e.stepCard?null:e.stepCard.imageId)("alt",null==e.stepCard?null:e.stepCard.imageAlt)("src",null==e.stepCard?null:e.stepCard.imageSrc,o.LSH),o.xp6(1),o.Q6J("ngIf",null==e.stepCard?null:e.stepCard.extractedWords),o.xp6(2),o.Q6J("mode",(null==e.stepCard?null:e.stepCard.progressMode)||"determinate")("value",null==e.stepCard?null:e.stepCard.progressValue))},dependencies:[f.sg,f.O5,m.a8,m.rt,m.dk,m.G2,m.n5,C.pW],styles:[".step-card[_ngcontent-%COMP%]{max-width:400px;margin:10px;float:left}.step-card[_ngcontent-%COMP%]   img.mat-card-image[_ngcontent-%COMP%]{width:400px}"]});class be{constructor(t,e,r){this.processingService=t,this.sanitizer=e,this.logger=r,this.logPrefix="Explain",this.stepCards=[],this.fileSelectedInfo="Image info will be shown here."}onFileSelected(t){var e=this;return p(function*(){e.stepCards=[],e.processingService.openCVInitialiseResources(),yield e.processingService.tesseractInitialiseResources();const r=t.target;if(!r)throw new Error("No 'target' for 'onFileSelected' event.");const i=function(n){if(!n||!n.files||1!==n.files.length)throw new Error("Must provide input of type file with exactly one file.");const t=n.files[0];if(!t.type.match(/image.*/))throw new Error("Uploaded file must be an image, not "+t.type);return t}(r),s=yield function(n){const t=URL.createObjectURL(n);return new Promise((e,r)=>{let i=new Image;i.onload=()=>e(i),i.onerror=s=>r(s),i.src=t}).then(e=>(URL.revokeObjectURL(t),e))}(i);e.fileSelectedInfo="Selected image is '"+i.type+"' with dimensions "+s.width+"px wide by "+s.height+"px high.";const u=yield e.processingService.imageResize01(s);e.stepCards.push(u.stepCard);const b=yield e.processingService.imageThresholdGeneric01(u.imageData);e.stepCards.push(b.stepCard);const I=yield e.processingService.imageThresholdAdaptive01(u.image);e.stepCards.push(I.stepCard);const k=yield e.processingService.imageThresholdAdaptive02(u.image);e.stepCards.push(k.stepCard);const L=yield e.processingService.tesseractRecognize(u.image);if(L&&L.data)if(L.data.imageColor&&e.stepCards.push(e.processingService.buildCardFromDataUri("text recognition color image","imageOcrColor",u.imageData.width,u.imageData.height,L.data.imageColor)),L.data.imageGrey&&e.stepCards.push(e.processingService.buildCardFromDataUri("text recognition grey image","imageOcrGrey",u.imageData.width,u.imageData.height,L.data.imageGrey)),L.data.imageBinary&&e.stepCards.push(e.processingService.buildCardFromDataUri("text recognition binary image","imageOcrBinary",u.imageData.width,u.imageData.height,L.data.imageBinary)),L.data.words&&u.blob){const V=e.processingService.buildCardFromBlob("text recognition words","imageOcrWords",u.imageData.width,u.imageData.height,u.blob);V.extractedWords=L.data.words,V.imageWidth=u.image.width,V.imageHeight=u.image.height,e.stepCards.push(V)}else e.logger.error(e.logPrefix,"Could not load image with words.")})()}}be.\u0275fac=function(t){return new(t||be)(o.Y36(he),o.Y36(ke.H7),o.Y36(ae))},be.\u0275cmp=o.Xpm({type:be,selectors:[["app-explain-page"]],decls:19,vars:2,consts:[[1,"step-card"],[3,"textContent"],["mat-raised-button","",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],["mode","determinate","value","0"],[3,"stepCard",4,"ngFor","ngForOf"],[3,"stepCard"]],template:function(t,e){if(1&t){const r=o.EpF();o.TgZ(0,"header")(1,"h1"),o._uU(2,"Explain"),o.qZA()(),o.TgZ(3,"section")(4,"mat-card",0)(5,"mat-card-header")(6,"mat-card-title"),o._uU(7,"Select image"),o.qZA()(),o.TgZ(8,"mat-card-content"),o._UZ(9,"p",1)(10,"mat-divider"),o.qZA(),o.TgZ(11,"mat-card-actions")(12,"button",2),o.NdJ("click",function(){o.CHM(r);const s=o.MAs(15);return o.KtG(s.click())}),o._uU(13,"Choose Image File"),o.qZA(),o.TgZ(14,"input",3,4),o.NdJ("change",function(s){return e.onFileSelected(s)}),o.qZA()(),o.TgZ(16,"mat-card-footer"),o._UZ(17,"mat-progress-bar",5),o.qZA()(),o.YNc(18,qe,1,1,"app-step-card",6),o.qZA()}2&t&&(o.xp6(9),o.Q6J("textContent",e.fileSelectedInfo),o.xp6(9),o.Q6J("ngForOf",e.stepCards))},dependencies:[f.sg,m.a8,m.hq,m.dn,m.rt,m.dk,m.n5,C.pW,Ue.d,Ve.lW,ye]});class Oe{}Oe.\u0275fac=function(t){return new(t||Oe)},Oe.\u0275cmp=o.Xpm({type:Oe,selectors:[["app-analyse-page"]],decls:9,vars:0,template:function(t,e){1&t&&(o.TgZ(0,"header")(1,"h1"),o._uU(2,"Get the nutrition information from a food package"),o.qZA()(),o.TgZ(3,"section")(4,"h2"),o._uU(5,"Under construction"),o.qZA()(),o.TgZ(6,"footer")(7,"p"),o._uU(8,"footer"),o.qZA()())}});const et=[{path:"",component:h},{path:"explain",component:be},{path:"analyse",component:Oe}];class me{}me.\u0275fac=function(t){return new(t||me)},me.\u0275mod=o.oAB({type:me}),me.\u0275inj=o.cJS({imports:[g.Bz.forChild(et),g.Bz]});class ve{}ve.\u0275fac=function(t){return new(t||ve)},ve.\u0275mod=o.oAB({type:ve}),ve.\u0275inj=o.cJS({providers:[he],imports:[f.ez,me,m.QW,C.Cv,Ue.t,Ve.ot]})},7820:v=>{function y(f,m,C,g,o,h,O){try{var p=f[h](O),x=p.value}catch(U){return void C(U)}p.done?m(x):Promise.resolve(x).then(g,o)}v.exports=function c(f){return function(){var m=this,C=arguments;return new Promise(function(g,o){var h=f.apply(m,C);function O(x){y(h,g,o,O,p,"next",x)}function p(x){y(h,g,o,O,p,"throw",x)}O(void 0)})}},v.exports.__esModule=!0,v.exports.default=v.exports},4547:v=>{"use strict";v.exports=JSON.parse('{"name":"tesseract.js","version":"4.0.2","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.18.7","@babel/preset-env":"^7.18.7","@rollup/plugin-commonjs":"^22.0.2","acorn":"^6.4.0","babel-loader":"^8.2.0","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^10.0.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^2.7.1","rollup":"^2.79.0","wait-on":"^3.3.0","webpack":"^5.74.0","webpack-bundle-analyzer":"^4.6.0","webpack-cli":"^4.10.0","webpack-dev-middleware":"^5.3.3"},"dependencies":{"babel-eslint":"^10.1.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^4.0.2","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')}}]);